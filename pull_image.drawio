<mxfile host="www.draw.io" modified="2019-12-08T01:38:34.385Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36" etag="gzXwAMvEMZTyrNVOYR4f" version="12.3.7" type="github" pages="1">
  <diagram id="tWnOJdrNOR3nlcxgio7N" name="第 1 页">
    <mxGraphModel dx="1106" dy="702" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="1" source="nh8RNzYfL1loOCNO5E8W-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="590" y="248" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-1" value="docker deamon" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="100" width="150" height="590" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="nh8RNzYfL1loOCNO5E8W-2" target="nh8RNzYfL1loOCNO5E8W-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="395" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-2" value="registry 服务器" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="570" y="100" width="150" height="590" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-3" value="" style="endArrow=classic;html=1;exitX=1.016;exitY=0.025;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.018;entryY=0.04;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="nh8RNzYfL1loOCNO5E8W-1" target="nh8RNzYfL1loOCNO5E8W-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="160" as="sourcePoint"/>
            <mxPoint x="270" y="110" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-4" value="1. 给你image name 和tag，你给我他们对应的manifest 咯" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="175" y="790" width="350" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-5" value="" style="endArrow=classic;html=1;entryX=1.009;entryY=0.086;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="nh8RNzYfL1loOCNO5E8W-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="596" y="160" as="sourcePoint"/>
            <mxPoint x="210" y="160" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-6" value="2. 存在嘞，给你manifest" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="265" y="850" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-8" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;exitX=1.009;exitY=0.139;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="nh8RNzYfL1loOCNO5E8W-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="220" as="sourcePoint"/>
            <mxPoint x="191" y="220" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="220" y="540"/>
              <mxPoint x="230" y="182"/>
              <mxPoint x="270" y="182"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-9" value="3. 我看看manifest里面的image id我本地有没有&lt;br&gt;，如果有就不和他要了" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="185" y="910" width="290" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-11" value="4. 给我image id为这个，的配置文件咯" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="210" y="990" width="240" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-12" value="" style="endArrow=classic;html=1;exitX=-0.018;exitY=0.335;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1.029;entryY=0.317;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="nh8RNzYfL1loOCNO5E8W-2" target="nh8RNzYfL1loOCNO5E8W-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="360" as="sourcePoint"/>
            <mxPoint x="390" y="310" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-13" value="5. 给你嘞" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="315" y="1050" width="70" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-14" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;exitX=1.009;exitY=0.139;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="180" y="930" as="sourcePoint"/>
            <mxPoint x="180" y="968" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="219" y="930"/>
              <mxPoint x="259" y="930"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-15" value="6. 我看看哪些layer已经有可，我就不拉了" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="1130" width="260" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-16" value="" style="endArrow=classic;html=1;exitX=1.022;exitY=0.554;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="nh8RNzYfL1loOCNO5E8W-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="460" as="sourcePoint"/>
            <mxPoint x="590" y="427" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-17" value="7. 给我这些layer咯" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="265" y="1169" width="130" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="nh8RNzYfL1loOCNO5E8W-22" target="nh8RNzYfL1loOCNO5E8W-23">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="410" y="1010"/>
              <mxPoint x="410" y="1010"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-22" value="docker&lt;br&gt;daemon" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="800" width="140" height="460" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="nh8RNzYfL1loOCNO5E8W-23">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="880" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="180" y="880"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-23" value="registry" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="520" y="800" width="140" height="460" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="820" as="sourcePoint"/>
            <mxPoint x="520" y="820" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="520" y="1080" as="sourcePoint"/>
            <mxPoint x="180" y="1080" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="180" y="1080"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-30" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;exitX=1.009;exitY=0.139;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="180" y="1120" as="sourcePoint"/>
            <mxPoint x="180" y="1158" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="219" y="1120"/>
              <mxPoint x="259" y="1120"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="180" y="1200" as="sourcePoint"/>
            <mxPoint x="520" y="1200" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="410" y="1200"/>
              <mxPoint x="410" y="1200"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="520" y="1250" as="sourcePoint"/>
            <mxPoint x="180" y="1250" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="180" y="1250"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-33" value="8. 给你嘞" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="295" y="1230" width="70" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-35" value="1. 给你image name 和tag，你给我他们对应的manifest&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="450" y="1660" width="340" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-36" value="2. 给你manifest" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="1720" width="110" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-37" value="3. 我看看manifest里面的image id我本地有没有&lt;br&gt;，如果有就不和他要了" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="455" y="1780" width="290" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-38" value="4. 给我image id为这个的配置文件" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="495" y="1860" width="210" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-39" value="5. 给你image config" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="555" y="1920" width="130" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-40" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;exitX=1.009;exitY=0.139;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="450" y="1800" as="sourcePoint"/>
            <mxPoint x="450" y="1838" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="489" y="1800"/>
              <mxPoint x="529" y="1800"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-41" value="6. 根据配置文件（image config）中的diff_ids，找本地layer存在么&lt;br&gt;没有再去拉" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="420" y="1995" width="400" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="nh8RNzYfL1loOCNO5E8W-44" target="nh8RNzYfL1loOCNO5E8W-46" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="680" y="1880"/>
              <mxPoint x="680" y="1880"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-44" value="docker&lt;br&gt;daemon" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="310" y="1670" width="140" height="540" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="nh8RNzYfL1loOCNO5E8W-46" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="1750" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="450" y="1750"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-46" value="registry" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="790" y="1670" width="140" height="530" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="1690" as="sourcePoint"/>
            <mxPoint x="790" y="1690" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="790" y="1950" as="sourcePoint"/>
            <mxPoint x="450" y="1950" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="450" y="1950"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-49" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;exitX=1.009;exitY=0.139;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="450" y="1990" as="sourcePoint"/>
            <mxPoint x="450" y="2028" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="489" y="1990"/>
              <mxPoint x="529" y="1990"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450" y="2070" as="sourcePoint"/>
            <mxPoint x="790" y="2070" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="680" y="2070"/>
              <mxPoint x="680" y="2070"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="790" y="2120" as="sourcePoint"/>
            <mxPoint x="450" y="2120" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="450" y="2120"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-52" value="8.&amp;nbsp; 给你layer" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="555" y="2100" width="90" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-55" value="7. 根据manifest的sha256去拉layer" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="507" y="2046" width="220" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-63" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;exitX=1.009;exitY=0.139;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="450" y="2150" as="sourcePoint"/>
            <mxPoint x="450" y="2188" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="489" y="2150"/>
              <mxPoint x="529" y="2150"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nh8RNzYfL1loOCNO5E8W-64" value="9. 我拿到的是压缩格式的，我把它解压出来&lt;br&gt;看看是不是和image config里面的diff is一样，&lt;br&gt;如果不一样就算拉取失败了" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="2154" width="280" height="50" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
